<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <!-- Meta, title, CSS, favicons, etc. -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

</head>

<body class="nav-md">
  <div class="container body">
    <div class="main_container">
      <div class="col-md-3 left_col">
        <div class="left_col scroll-view">
          <div class="navbar nav_title" style="border: 0;">
            <a href="/home" class="site_title"><i class="fa fa-paw"></i> <span>MY PHARMACY</span></a>
          </div>
          <app-sidebar></app-sidebar>
        </div>
      </div>
      <app-topnav></app-topnav>
      <!-- page content -->
      <div class="right_col" role="main">
        <div class="">
          <div class="page-title">
            <ul class="nav nav-tabs">
              <li class="active"><button type="button" (click)="newUser()" value="allusers" class="btn btn-default">New Users</button></li>
              <li><button type="button" (click)="showAdmins()" value="admins" class="btn btn-default">Show Admins</button></li>
              <li><button type="button" (click)="showUsers()" value="users" class="btn btn-default">Show Users</button></li>
            </ul>
          </div>
          <div class="clearfix"></div>
          <div class="row">
            <div class="x_panel">
              <div class="x_content">
                <div *ngIf="new_u">
                  <div class="title_left">
                    <h3>Unaccepted Users</h3>
                  </div>
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Type</th>
                        <th>Accept</th>
                        <th>Ban</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let x of allusers; let in=index">
                      <tr>
                        <td>{{x.name}}</td>
                        <td>{{x.email}}</td>
                        <td> <select required class="form-control" name="type" [(ngModel)]="usertype[in]">
                      <option value="Admin">Admin</option>
                      <option value="SuperAdmin">SuperAdmin</option>
                      <option value="User">User</option>
                      <option value="Pharmacy">Pharmacy</option>
                      </select></td>
                        <td><input type="button" (click)="Onacceptuser(x.email,in,x.type)" value="Activate" class="btn btn-success"></td>
                        <td><input type="button" (click)="delete(x.email)" value="Ban" class="btn btn-danger"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div *ngIf="admin">
                  <div class="title_left">
                    <h3>All Admins</h3>
                  </div>
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Activate/Deactivate</th>
                        <th>Type</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let x of allusers; let in=index">
                      <tr>
                        <td>{{x.name}}</td>
                        <td>{{x.email}}</td>
                        <td *ngIf="x.active == 0"><input type="button" (click)="Onacceptuser(x.email,in,x.type)" value="Activate" class="btn btn-success"></td>
                        <td *ngIf="x.active == 1"><input type="button" (click)="delete(x.email)" value="Ban" class="btn btn-danger"></td>
                        
                        <td *ngIf="x.active == 0"><select required class="form-control" name="type" [(ngModel)]="usertype[in]">
                      <option value="admin">Admin</option>
                      <option value="superadmin">SuperAdmin</option>
                      <option value="user">User</option>
                      <option value="pharmacy">Pharmacy</option>
                      </select></td>
                        <td *ngIf="x.active == 1">{{x.type}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div *ngIf="user_f">
                  <div class="title_left">
                    <h3>All Users</h3>
                  </div>
                  <table class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Activate/Deactivate</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let x of allusers; let in=index">
                      <tr>
                        <td>{{x.name}}</td>
                        <td>{{x.email}}</td>
                        <td *ngIf="x.active == 0"> <input type="button" (click)="Onacceptuser(x.email,in,x.type)" value="Activate" class="btn btn-success"></td>
                        <td *ngIf="x.active == 1"><input type="button" (click)="delete(x.email)" value="Ban" class="btn btn-danger"></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- /page content -->
    </div>
  </div>
</body>

</html>